# Database Configuration
# Using Quarkus Dev Services - PostgreSQL will be started automatically in dev/test mode
quarkus.datasource.db-kind=postgresql

# Hibernate ORM Configuration
# JPA will automatically create the schema from entity annotations
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.sql-load-script=import.sql

# Virtual Thread Configuration
quarkus.virtual-threads.enabled=true

# JVM Arguments for module access
quarkus.jvm.args=--add-opens java.base/java.lang=ALL-UNNAMED

# OpenTelemetry Configuration
quarkus.otel.enabled=false
quarkus.otel.service.name=cqrs-event-sourcing
quarkus.otel.traces.enabled=false
quarkus.otel.metrics.enabled=false
quarkus.otel.logs.enabled=false
quarkus.otel.exporter.otlp.traces.endpoint=http://localhost:4317
quarkus.otel.exporter.otlp.metrics.endpoint=http://localhost:4317

# Micrometer/Prometheus Configuration
quarkus.micrometer.enabled=true
quarkus.micrometer.registry-enabled-default=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/metrics

# Jackson Configuration
quarkus.jackson.serialization-inclusion=NON_EMPTY
quarkus.jackson.serialization.write-dates-as-timestamps=true
quarkus.jackson.deserialization.fail-on-unknown-properties=true

# HTTP Configuration
quarkus.http.port=8080
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,PUT,POST,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.access-control-max-age=86400

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."ca.bazlur.eventsourcing".level=DEBUG
quarkus.log.category."io.opentelemetry".level=WARN
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{2.}] (%t) %s%e%n

# Performance Configuration
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.statistics=false

# Security (for production deployment)
quarkus.security.jaxrs.default-roles-allowed=false

# Health Check Configuration
quarkus.health.enabled=true
quarkus.smallrye-health.root-path=/health

# Application Specific Configuration
app.event-store.batch-size=1000
app.event-store.max-concurrent-operations=10000
app.projection.processing-interval=1000
app.saga.timeout-minutes=5
%dev.quarkus.datasource.dev-ui.allow-sql=true
